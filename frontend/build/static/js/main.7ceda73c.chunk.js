(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),r=n.n(s),a=n(27),i=n.n(a),j=(n(35),n(8)),o=n(2),u=function(){return Object(c.jsx)("header",{children:Object(c.jsx)("div",{className:"navbar",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("div",{className:"logo"})}),Object(c.jsx)("li",{children:Object(c.jsx)(j.b,{to:"/",children:"Home"})}),Object(c.jsx)("li",{children:Object(c.jsx)(j.b,{to:"/movies",children:"Movies"})})]})})})},l=n(9),b=n.n(l),d=n(12),O=n(10),h=function(e){var t=e.posts;return e.loading?Object(c.jsx)("h2",{children:"Loading..."}):Object(c.jsx)("div",{children:Object(c.jsx)("ul",{className:"card",children:t.map((function(e){return Object(c.jsx)("li",{className:"list-group-item",children:Object(c.jsxs)(j.b,{to:"/movies/".concat(e._id),children:[Object(c.jsx)("img",{src:e.image,alt:e.image}),e.title]})},e._id)}))})})},x=function(e){for(var t=e.postsPerPage,n=e.totalPosts,s=e.paginate,r=[],a=1;a<=Math.ceil(n/t);a++)r.push(a);return Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("a",{onClick:function(){return s(e)},href:"#/",className:"page-link",children:e})},e)}))})})},v=n(29),m=n.n(v),f=function(){var e=Object(s.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!1),i=Object(O.a)(a,2),j=i[0],o=i[1],u=Object(s.useState)(1),l=Object(O.a)(u,2),v=l[0],f=l[1],p=Object(s.useState)(10),g=Object(O.a)(p,1)[0];Object(s.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,m.a.get("/api/movies");case 3:t=e.sent,r(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=v*g,w=N-g,k=n.slice(w,N);return Object(c.jsxs)("div",{className:"container mt-5",children:[Object(c.jsx)("h1",{className:"text-primary mb-3",children:"My Blog"}),Object(c.jsx)(h,{posts:k,loading:j}),Object(c.jsx)(x,{postsPerPage:g,totalPosts:n.length,paginate:function(e){return f(e)}})]})},p=function(e){var t=e.movie;return Object(c.jsxs)(j.b,{to:"/movies/".concat(t._id),children:[Object(c.jsx)("h3",{children:t.title}),Object(c.jsx)("img",{src:t.image,alt:t.image})]})},g=function(){var e=Object(s.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1];Object(s.useEffect)((function(){a()}),[]);var a=function(){var e=Object(d.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/movies/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("DATA:",n),r(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:n.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(p,{movie:e},t)},t)}))})})},N=function(e){var t=e.match.params.id,n=Object(s.useState)(null),r=Object(O.a)(n,2),a=r[0],i=r[1];Object(s.useEffect)((function(){j()}),[t]);var j=function(){var e=Object(d.a)(b.a.mark((function e(){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/movies/".concat(t,"/"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,i(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:null===a||void 0===a?void 0:a.title}),Object(c.jsx)("img",{src:null===a||void 0===a?void 0:a.image,alt:null===a||void 0===a?void 0:a.slug})]})},w=function(){return Object(c.jsx)(j.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(u,{}),Object(c.jsx)(o.a,{path:"/",component:f,exact:!0}),Object(c.jsx)(o.a,{path:"/movies",component:g,exact:!0}),Object(c.jsx)(o.a,{path:"/movies/:id",component:N})]})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.7ceda73c.chunk.js.map