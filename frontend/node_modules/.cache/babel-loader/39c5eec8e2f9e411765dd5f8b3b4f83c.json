{"ast":null,"code":"import axios from \"axios\";\nimport { createMessage, returnErrors } from \"./messages\";\nimport { GET_MOVIES, GET_MOVIE, DELETE_MOVIE, ADD_MOVIE } from \"./types\";\nimport { tokenConfig } from \"./auth\"; // GET GET_MOVIES\n\nexport const getMovies = () => (dispatch, getState) => {\n  axios.get(\"/api/movies/\", tokenConfig(getState)).then(res => {\n    dispatch({\n      type: GET_MOVIES,\n      payload: res.data\n    });\n  }).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n}; // GET MOVIE\n\nexport const getMovie = id => (dispatch, getState) => {\n  axios.get(`/api/movies/${id}/`, tokenConfig(getState)).then(res => {\n    dispatch(createMessage({\n      getMovie: \"Movie Info\"\n    }));\n    dispatch({\n      type: GET_MOVIE,\n      payload: res.data\n    });\n  }).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n}; // DELETE MOVIE\n\nexport const deleteMovie = id => (dispatch, getState) => {\n  axios.delete(`/api/movies/${id}/`, tokenConfig(getState)).then(res => {\n    dispatch(createMessage({\n      deleteMovie: \"Movie Deleted\"\n    }));\n    dispatch({\n      type: DELETE_MOVIE,\n      payload: id\n    });\n  }).catch(err => console.log(err));\n}; // ADD MOVIE\n\nexport const addMovie = movie => (dispatch, getState) => {\n  axios.post(\"/api/movies/\", movie, tokenConfig(getState)).then(res => {\n    dispatch(createMessage({\n      addMovie: \"Movie Added\"\n    }));\n    dispatch({\n      type: ADD_MOVIE,\n      payload: res.data\n    });\n  }).catch(err => dispatch(returnErrors(err.response.data, err.response.status)));\n};","map":{"version":3,"names":["axios","createMessage","returnErrors","GET_MOVIES","GET_MOVIE","DELETE_MOVIE","ADD_MOVIE","tokenConfig","getMovies","dispatch","getState","get","then","res","type","payload","data","catch","err","response","status","getMovie","id","deleteMovie","delete","console","log","addMovie","movie","post"],"sources":["/home/bot/Desktop/dev/projects/xamehi-tv/frontend/src/actions/movies.js"],"sourcesContent":["import axios from \"axios\";\nimport { createMessage, returnErrors } from \"./messages\";\nimport { GET_MOVIES, GET_MOVIE, DELETE_MOVIE, ADD_MOVIE } from \"./types\";\nimport { tokenConfig } from \"./auth\";\n\n// GET GET_MOVIES\nexport const getMovies = () => (dispatch, getState) => {\n  axios\n    .get(\"/api/movies/\", tokenConfig(getState))\n    .then((res) => {\n      dispatch({\n        type: GET_MOVIES,\n        payload: res.data,\n      });\n    })\n    .catch((err) =>\n      dispatch(returnErrors(err.response.data, err.response.status))\n    );\n};\n\n// GET MOVIE\nexport const getMovie = (id) => (dispatch, getState) => {\n  axios\n    .get(`/api/movies/${id}/`, tokenConfig(getState))\n    .then((res) => {\n      dispatch(createMessage({ getMovie: \"Movie Info\" }));\n      dispatch({\n        type: GET_MOVIE,\n        payload: res.data,\n      });\n    })\n    .catch((err) =>\n      dispatch(returnErrors(err.response.data, err.response.status))\n    );\n};\n\n// DELETE MOVIE\nexport const deleteMovie = (id) => (dispatch, getState) => {\n  axios\n    .delete(`/api/movies/${id}/`, tokenConfig(getState))\n    .then((res) => {\n      dispatch(createMessage({ deleteMovie: \"Movie Deleted\" }));\n      dispatch({\n        type: DELETE_MOVIE,\n        payload: id,\n      });\n    })\n    .catch((err) => console.log(err));\n};\n\n// ADD MOVIE\nexport const addMovie = (movie) => (dispatch, getState) => {\n  axios\n    .post(\"/api/movies/\", movie, tokenConfig(getState))\n    .then((res) => {\n      dispatch(createMessage({ addMovie: \"Movie Added\" }));\n      dispatch({\n        type: ADD_MOVIE,\n        payload: res.data,\n      });\n    })\n    .catch((err) =>\n      dispatch(returnErrors(err.response.data, err.response.status))\n    );\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,YAA5C;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,YAAhC,EAA8CC,SAA9C,QAA+D,SAA/D;AACA,SAASC,WAAT,QAA4B,QAA5B,C,CAEA;;AACA,OAAO,MAAMC,SAAS,GAAG,MAAM,CAACC,QAAD,EAAWC,QAAX,KAAwB;EACrDV,KAAK,CACFW,GADH,CACO,cADP,EACuBJ,WAAW,CAACG,QAAD,CADlC,EAEGE,IAFH,CAESC,GAAD,IAAS;IACbJ,QAAQ,CAAC;MACPK,IAAI,EAAEX,UADC;MAEPY,OAAO,EAAEF,GAAG,CAACG;IAFN,CAAD,CAAR;EAID,CAPH,EAQGC,KARH,CAQUC,GAAD,IACLT,QAAQ,CAACP,YAAY,CAACgB,GAAG,CAACC,QAAJ,CAAaH,IAAd,EAAoBE,GAAG,CAACC,QAAJ,CAAaC,MAAjC,CAAb,CATZ;AAWD,CAZM,C,CAcP;;AACA,OAAO,MAAMC,QAAQ,GAAIC,EAAD,IAAQ,CAACb,QAAD,EAAWC,QAAX,KAAwB;EACtDV,KAAK,CACFW,GADH,CACQ,eAAcW,EAAG,GADzB,EAC6Bf,WAAW,CAACG,QAAD,CADxC,EAEGE,IAFH,CAESC,GAAD,IAAS;IACbJ,QAAQ,CAACR,aAAa,CAAC;MAAEoB,QAAQ,EAAE;IAAZ,CAAD,CAAd,CAAR;IACAZ,QAAQ,CAAC;MACPK,IAAI,EAAEV,SADC;MAEPW,OAAO,EAAEF,GAAG,CAACG;IAFN,CAAD,CAAR;EAID,CARH,EASGC,KATH,CASUC,GAAD,IACLT,QAAQ,CAACP,YAAY,CAACgB,GAAG,CAACC,QAAJ,CAAaH,IAAd,EAAoBE,GAAG,CAACC,QAAJ,CAAaC,MAAjC,CAAb,CAVZ;AAYD,CAbM,C,CAeP;;AACA,OAAO,MAAMG,WAAW,GAAID,EAAD,IAAQ,CAACb,QAAD,EAAWC,QAAX,KAAwB;EACzDV,KAAK,CACFwB,MADH,CACW,eAAcF,EAAG,GAD5B,EACgCf,WAAW,CAACG,QAAD,CAD3C,EAEGE,IAFH,CAESC,GAAD,IAAS;IACbJ,QAAQ,CAACR,aAAa,CAAC;MAAEsB,WAAW,EAAE;IAAf,CAAD,CAAd,CAAR;IACAd,QAAQ,CAAC;MACPK,IAAI,EAAET,YADC;MAEPU,OAAO,EAAEO;IAFF,CAAD,CAAR;EAID,CARH,EASGL,KATH,CASUC,GAAD,IAASO,OAAO,CAACC,GAAR,CAAYR,GAAZ,CATlB;AAUD,CAXM,C,CAaP;;AACA,OAAO,MAAMS,QAAQ,GAAIC,KAAD,IAAW,CAACnB,QAAD,EAAWC,QAAX,KAAwB;EACzDV,KAAK,CACF6B,IADH,CACQ,cADR,EACwBD,KADxB,EAC+BrB,WAAW,CAACG,QAAD,CAD1C,EAEGE,IAFH,CAESC,GAAD,IAAS;IACbJ,QAAQ,CAACR,aAAa,CAAC;MAAE0B,QAAQ,EAAE;IAAZ,CAAD,CAAd,CAAR;IACAlB,QAAQ,CAAC;MACPK,IAAI,EAAER,SADC;MAEPS,OAAO,EAAEF,GAAG,CAACG;IAFN,CAAD,CAAR;EAID,CARH,EASGC,KATH,CASUC,GAAD,IACLT,QAAQ,CAACP,YAAY,CAACgB,GAAG,CAACC,QAAJ,CAAaH,IAAd,EAAoBE,GAAG,CAACC,QAAJ,CAAaC,MAAjC,CAAb,CAVZ;AAYD,CAbM"},"metadata":{},"sourceType":"module"}