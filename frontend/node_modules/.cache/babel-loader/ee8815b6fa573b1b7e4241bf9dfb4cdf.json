{"ast":null,"code":"import _defineProperty from\"/home/bot/Desktop/dev/projects/xamehi-tv/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/bot/Desktop/dev/projects/xamehi-tv/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/bot/Desktop/dev/projects/xamehi-tv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{FaUser}from\"react-icons/fa\";import{register,reset}from\"../features/auth/authSlice\";import Spinner from\"../components/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){var _useState=useState({name:\"\",email:\"\",password:\"\",password2:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var name=formData.name,email=formData.email,password=formData.password,password2=formData.password2;var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isLoading=_useSelector.isLoading,isError=_useSelector.isError,isSuccess=_useSelector.isSuccess,message=_useSelector.message;useEffect(function(){if(isError){toast.error(message);}if(isSuccess||user){navigate(\"/\");}dispatch(reset());},[user,isError,isSuccess,message,navigate,dispatch]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var onSubmit=function onSubmit(e){e.preventDefault();if(password!==password2){toast.error(\"Passwords do not match\");}else{var userData={name:name,email:email,password:password};dispatch(register(userData));}};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(FaUser,{}),\" Register\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Please create an account\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",value:name,placeholder:\"Enter your name\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:email,placeholder:\"Enter your email\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:password,placeholder:\"Enter password\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password2\",name:\"password2\",value:password2,placeholder:\"Confirm password\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",children:\"Submit\"})})]})})]});}export default Register;","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","useNavigate","toast","FaUser","register","reset","Spinner","Register","name","email","password","password2","formData","setFormData","navigate","dispatch","state","auth","user","isLoading","isError","isSuccess","message","error","onChange","e","prevState","target","value","onSubmit","preventDefault","userData"],"sources":["/home/bot/Desktop/dev/projects/xamehi-tv/frontend/src/pages/Register.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { FaUser } from \"react-icons/fa\";\nimport { register, reset } from \"../features/auth/authSlice\";\nimport Spinner from \"../components/Spinner\";\n\nfunction Register() {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n\n  const { name, email, password, password2 } = formData;\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { user, isLoading, isError, isSuccess, message } = useSelector(\n    (state) => state.auth\n  );\n\n  useEffect(() => {\n    if (isError) {\n      toast.error(message);\n    }\n\n    if (isSuccess || user) {\n      navigate(\"/\");\n    }\n\n    dispatch(reset());\n  }, [user, isError, isSuccess, message, navigate, dispatch]);\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    if (password !== password2) {\n      toast.error(\"Passwords do not match\");\n    } else {\n      const userData = {\n        name,\n        email,\n        password,\n      };\n\n      dispatch(register(userData));\n    }\n  };\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <>\n      <section className=\"heading\">\n        <h1>\n          <FaUser /> Register\n        </h1>\n        <p>Please create an account</p>\n      </section>\n\n      <section className=\"form\">\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              name=\"name\"\n              value={name}\n              placeholder=\"Enter your name\"\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"email\"\n              name=\"email\"\n              value={email}\n              placeholder=\"Enter your email\"\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"password\"\n              name=\"password\"\n              value={password}\n              placeholder=\"Enter password\"\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"password2\"\n              name=\"password2\"\n              value={password2}\n              placeholder=\"Confirm password\"\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-block\">\n              Submit\n            </button>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}