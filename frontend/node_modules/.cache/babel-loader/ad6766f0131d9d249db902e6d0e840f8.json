{"ast":null,"code":"import{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import MovieForm from\"../components/MovieForm\";import MovieItem from\"../components/MovieItem\";import Spinner from\"../components/Spinner\";import{getMovies,reset}from\"../features/movies/movieSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;// eslint-disable-next-line\nvar _useSelector2=useSelector(function(state){return state.movies;}),movies=_useSelector2.movies,isLoading=_useSelector2.isLoading,isError=_useSelector2.isError,message=_useSelector2.message;useEffect(function(){if(isError){console.log(message);}if(!user){navigate(\"/login\");}dispatch(getMovies());return function(){dispatch(reset());};},[user,navigate,isError,message,dispatch]);if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome \",user&&user.name]}),/*#__PURE__*/_jsx(\"p\",{children:\"Movies Dashboard\"})]}),/*#__PURE__*/_jsx(MovieForm,{}),/*#__PURE__*/_jsx(\"section\",{className:\"content\",children:movies.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"movies\",children:movies.map(function(movie){return/*#__PURE__*/_jsx(MovieItem,{movie:movie},movie._id);})}):/*#__PURE__*/_jsx(\"h3\",{children:\"You have Not Added any Movies\"})})]});}export default Dashboard;","map":{"version":3,"names":["useEffect","useNavigate","useSelector","useDispatch","MovieForm","MovieItem","Spinner","getMovies","reset","Dashboard","navigate","dispatch","state","auth","user","movies","isLoading","isError","message","console","log","name","length","map","movie","_id"],"sources":["/home/bot/Desktop/dev/projects/xamehi-tv/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport MovieForm from \"../components/MovieForm\";\nimport MovieItem from \"../components/MovieItem\";\nimport Spinner from \"../components/Spinner\";\nimport { getMovies, reset } from \"../features/movies/movieSlice\";\n\nfunction Dashboard() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { user } = useSelector((state) => state.auth);\n  // eslint-disable-next-line\n  const { movies, isLoading, isError, message } = useSelector(\n    (state) => state.movies\n  );\n\n  useEffect(() => {\n    if (isError) {\n      console.log(message);\n    }\n    if (!user) {\n      navigate(\"/login\");\n    }\n\n    dispatch(getMovies());\n\n    return () => {\n      dispatch(reset());\n    };\n  }, [user, navigate, isError, message, dispatch]);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <>\n      <section className=\"heading\">\n        <h1>Welcome {user && user.name}</h1>\n        <p>Movies Dashboard</p>\n      </section>\n      <MovieForm />\n      <section className=\"content\">\n        {movies.length > 0 ? (\n          <div className=\"movies\">\n            {movies.map((movie) => (\n              <MovieItem key={movie._id} movie={movie} />\n            ))}\n          </div>\n        ) : (\n          <h3>You have Not Added any Movies</h3>\n        )}\n      </section>\n    </>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,UAAP,KAAsB,yBAAtB,CACA,MAAOC,UAAP,KAAsB,yBAAtB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,+BAAjC,C,6IAEA,QAASC,UAAT,EAAqB,CACnB,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,SAAQ,CAAGR,WAAW,EAA5B,CAEA,iBAAiBD,WAAW,CAAC,SAACU,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CACA;AACA,kBAAgDZ,WAAW,CACzD,SAACU,KAAD,QAAWA,MAAK,CAACG,MAAjB,EADyD,CAA3D,CAAQA,MAAR,eAAQA,MAAR,CAAgBC,SAAhB,eAAgBA,SAAhB,CAA2BC,OAA3B,eAA2BA,OAA3B,CAAoCC,OAApC,eAAoCA,OAApC,CAIAlB,SAAS,CAAC,UAAM,CACd,GAAIiB,OAAJ,CAAa,CACXE,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACD,CACD,GAAI,CAACJ,IAAL,CAAW,CACTJ,QAAQ,CAAC,QAAD,CAAR,CACD,CAEDC,QAAQ,CAACJ,SAAS,EAAV,CAAR,CAEA,MAAO,WAAM,CACXI,QAAQ,CAACH,KAAK,EAAN,CAAR,CACD,CAFD,CAGD,CAbQ,CAaN,CAACM,IAAD,CAAOJ,QAAP,CAAiBO,OAAjB,CAA0BC,OAA1B,CAAmCP,QAAnC,CAbM,CAAT,CAeA,GAAIK,SAAJ,CAAe,CACb,mBAAO,KAAC,OAAD,IAAP,CACD,CAED,mBACE,wCACE,iBAAS,SAAS,CAAC,SAAnB,wBACE,iCAAaF,IAAI,EAAIA,IAAI,CAACO,IAA1B,GADF,cAEE,uCAFF,GADF,cAKE,KAAC,SAAD,IALF,cAME,gBAAS,SAAS,CAAC,SAAnB,UACGN,MAAM,CAACO,MAAP,CAAgB,CAAhB,cACC,YAAK,SAAS,CAAC,QAAf,UACGP,MAAM,CAACQ,GAAP,CAAW,SAACC,KAAD,qBACV,KAAC,SAAD,EAA2B,KAAK,CAAEA,KAAlC,EAAgBA,KAAK,CAACC,GAAtB,CADU,EAAX,CADH,EADD,cAOC,qDARJ,EANF,GADF,CAoBD,CAED,cAAehB,UAAf"},"metadata":{},"sourceType":"module"}