{"ast":null,"code":"import _defineProperty from\"/home/bot/Desktop/dev/projects/xamehi-tv/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/bot/Desktop/dev/projects/xamehi-tv/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/bot/Desktop/dev/projects/xamehi-tv/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{FaSignInAlt}from\"react-icons/fa\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{login,reset}from\"../features/auth/authSlice\";import Spinner from\"../components/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var email=formData.email,password=formData.password;var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isLoading=_useSelector.isLoading,isError=_useSelector.isError,isSuccess=_useSelector.isSuccess,message=_useSelector.message;useEffect(function(){if(isError){toast.error(message);}if(isSuccess||user){navigate(\"/\");}dispatch(reset());},[user,isError,isSuccess,message,navigate,dispatch]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var onSubmit=function onSubmit(e){e.preventDefault();var userData={email:email,password:password};dispatch(login(userData));};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(FaSignInAlt,{}),\" Login\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Login and start setting goals\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:email,placeholder:\"Enter your email\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:password,placeholder:\"Enter password\",onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",children:\"Submit\"})})]})})]});}export default Login;","map":{"version":3,"names":["useState","useEffect","FaSignInAlt","useSelector","useDispatch","useNavigate","toast","login","reset","Spinner","Login","email","password","formData","setFormData","navigate","dispatch","state","auth","user","isLoading","isError","isSuccess","message","error","onChange","e","prevState","target","name","value","onSubmit","preventDefault","userData"],"sources":["/home/bot/Desktop/dev/projects/xamehi-tv/frontend/src/pages/Login.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { FaSignInAlt } from \"react-icons/fa\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { login, reset } from \"../features/auth/authSlice\";\nimport Spinner from \"../components/Spinner\";\n\nfunction Login() {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = formData;\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { user, isLoading, isError, isSuccess, message } = useSelector(\n    (state) => state.auth\n  );\n\n  useEffect(() => {\n    if (isError) {\n      toast.error(message);\n    }\n\n    if (isSuccess || user) {\n      navigate(\"/\");\n    }\n\n    dispatch(reset());\n  }, [user, isError, isSuccess, message, navigate, dispatch]);\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const userData = {\n      email,\n      password,\n    };\n\n    dispatch(login(userData));\n  };\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <>\n      <section className=\"heading\">\n        <h1>\n          <FaSignInAlt /> Login\n        </h1>\n        <p>Login and start setting goals</p>\n      </section>\n\n      <section className=\"form\">\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"email\"\n              name=\"email\"\n              value={email}\n              placeholder=\"Enter your email\"\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"password\"\n              name=\"password\"\n              value={password}\n              placeholder=\"Enter password\"\n              onChange={onChange}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-block\">\n              Submit\n            </button>\n          </div>\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}